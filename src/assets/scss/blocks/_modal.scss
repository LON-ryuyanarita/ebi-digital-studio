/* ==========================================================================
 *
 * Blocks - modal
 *
========================================================================== */

@use './variables' as *;
@use './_utils' as *;

.modal {
  & {
    width: 100%;
    height: 0;
    opacity: 0;
    overflow: hidden;
    position: fixed;
    top: 0;
    left: 0;
    z-index: 100;
    transition: height 0ms 401ms, opacity 400ms 0ms var(--ease-fast-out-slow-in);

    &.-shown {
      height: 100%;
      opacity: 1;
      transition: height 0ms 0ms, opacity 600ms 1ms var(--ease-fast-out-slow-in);
    }
  }

  @at-root {
    .modal__backdrop {
      width: 100%;
      height: 100%;
      background-color: rgba($color-black-1, 0.8);
      position: absolute;
      top: 0;
      left: 0;
      z-index: 0;
    }

    .modal__outer {
      height: 100%;
      padding: 32px 90px;
      display: flex;
      align-items: center;
      justify-content: center;
      position: relative;
      z-index: 0;
    }

    .modal__inner {
      max-width: 1100px;
      max-height: 100%;
      margin: auto;
      padding: 30px;
      overflow: auto;
      overscroll-behavior: contain;
      background-color: var(--color-white-1);
      position: relative;
      z-index: 1;
    }

    .modal__close {
      display: flex;
      justify-content: flex-end;
      position: sticky;
      top: 0;
      right: 30px;

      button {
        margin-top: -5px;
        width: 40px;
        display: block;
        position: relative;

        .-enabledHover & {
          &:hover {
            > i {
              span {
                &:nth-child(1) {
                  transform: translate3d(-50%, -50%, 0) rotate(22.5deg);
                }

                &:nth-child(2) {
                  transform: translate3d(-50%, -50%, 0) rotate(-22.5deg);
                }
              }
            }
          }
        }

        > i {
          width: 40px;
          height: 24px;
          display: block;
          position: relative;

          span {
            width: 110%;
            height: 2px;
            background-color: var(--color-black-1);
            display: block;
            position: absolute;
            top: 50%;
            left: 50%;
            transition: transform 200ms var(--ease-fast-out-slow-in);

            &:nth-child(1) {
              transform: translate3d(-50%, -50%, 0) rotate(30deg);
            }

            &:nth-child(2) {
              transform: translate3d(-50%, -50%, 0) rotate(-30deg);
            }
          }
        }

        > span {
          margin-top: 2px;
          font-size: 8px;
          font-weight: bold;
          line-height: 1;
          display: block;
          position: absolute;
          top: 100%;
          left: 50%;
          transform: translateX(-50%);
        }
      }
    }
  }

  // SP 以下 (- 768)
  @media #{$mq-lte-sp} {
    & {
    }

    @at-root {
      .modal__backdrop {
      }

      .modal__outer {
        height: 100%;
        padding: cvws(20);
      }

      .modal__inner {
        max-width: none;
        padding: cvws(20);
      }

      .modal__close {
        top: 0;
        right: cvws(20);

        button {
          margin-top: 0;
          width: cvws(50);

          > i {
            width: cvws(50);
            height: cvws(30);

            span {
              height: cvws(2);
            }
          }

          > span {
            margin-top: cvws(6);
            font-size: cvws(12);
          }
        }
      }
    }
  }

  // PC Max 以上 (1280 +1 - )
  @media #{$mq-gt-pcmax} {
    & {
    }

    @at-root {
    }
  }
}
